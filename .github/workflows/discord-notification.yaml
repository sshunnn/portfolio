name: Notify Discord on Push

on:
  push:
    branches:
      - main # é€šçŸ¥ã‚’é€ä¿¡ã—ãŸã„ãƒ–ãƒ©ãƒ³ãƒã‚’æŒ‡å®š

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      - name: Send Discord Notification
        run: |
          curl -H "Content-Type: application/json" \
               -d "{
                 \"embeds\": [
                   {
                     \"title\": \"ğŸš€ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã—ãŸï¼\",
                     \"description\": \"æ–°ã—ã„å¤‰æ›´ãŒVercelã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã—ãŸã€‚\",
                     \"color\": 5814783,
                     \"fields\": [
                       {
                         \"name\": \"ğŸ‘¤ æ›´æ–°è€…\",
                         \"value\": \"\`${{ github.actor }}\`\",
                         \"inline\": true
                       },
                       {
                         \"name\": \"ğŸŒ¿ ãƒ–ãƒ©ãƒ³ãƒ\",
                         \"value\": \"\`${{ github.ref_name }}\`\",
                         \"inline\": true
                       },
                       {
                         \"name\": \"ğŸ“ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\",
                         \"value\": \"${{ github.event.head_commit.message }}\",
                         \"inline\": false
                       },
                       {
                         \"name\": \"ğŸ”— ãƒ‡ãƒ—ãƒ­ã‚¤URL\",
                         \"value\": \"[ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’è¦‹ã‚‹](https://portfolio-sshunnns-projects.vercel.app/)\",
                         \"inline\": false
                       }
                     ],
                     \"timestamp\": \"${{ github.event.head_commit.timestamp }}\",
                     \"footer\": {
                       \"text\": \"GitHub Actions\",
                       \"icon_url\": \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\"
                     }
                   }
                 ]
               }" \
               ${{ secrets.DISCORD_WEBHOOK_URL }}